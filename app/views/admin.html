{% extends "base.html" %}
{% block content %}

<h1>Admin Page</h1>
{% if message %}
<div class="alert alert-info">
    {{message}}
</div>
{% endif %}

{% if errors %}
<div class="alert alert-danger">
    <ul>
        {% for error in errors %}
        <li>{{error}}</li>
        {% endfor %}
    </ul>
</div>
{% endif %}

<h2>Elements</h2> 
<form method="post" action="{{base_path}}/admin/newEle">
    <div>
        <label>Element Name</label>
        <input type="text" name="element" class="form-inline">  
        <button type="submit" class="btn btn-primary">Add</button>
    </div>
</form>

<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th><label class="label label-info">Element name</label></th>
            <th><label class="label label-danger">Delete</label></th>
        </tr>
    </thead>

    <tbody>   
        {% for ele in elements %}
        <tr>

            <td><a>{{ele.type}}</a></td>
            <td><form method="post" action="{{base_path}}/admin/delEle">        
                    <button type="submit" value="{{ele.id}}" name="element" class="btn btn-danger">
                        Delete</button></form></td>   
        </tr>
        {% endfor %}

    </tbody>
</table>

<h2>Classes</h2>
<form method="post" action="{{base_path}}/admin/newClas">
    <div>
        <label>Class name</label>
        <input type="text" name="class" class="form-inline">  
        <button type="submit" class="btn btn-primary">Add</button>
    </div>
</form>


<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th><label class="label label-info">Class name</label></th>
            <th><label class="label label-danger">Delete</label></th>
        </tr>
    </thead>

    <tbody>    

        {% for clas in classes %}
        <tr>
            <td><a>{{clas.name}}</a></td>
            <td><form method="post" action="{{base_path}}/admin/delClas">        
                    <button type="submit" name="class" value="{{clas.id}}" class="btn btn-danger">
                        Delete</button></form></td>
        </tr>
        {% endfor %}

    </tbody>
</table>

<h2>Items</h2>
<form method="post" action="{{base_path}}/admin/newItem">
    <div>
        <label>Item Nickname</label>
        <input type="text" name="item" class="form-inline">  
        <button type="submit" class="btn btn-primary">Add</button>
    </div>
</form>

<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th><label class="label label-info">Item name</label></th>
            <th><label class="label label-danger">Delete</label></th>

        </tr>
    </thead>
    <tbody>  

        {% for item in items %}
        <tr>
            <td><a>{{item.name}}</a></td>
            <td><form method="post" action="{{base_path}}/admin/delItem">        
                    <button type="submit" name="item" value="{{item.id}}" class="btn btn-danger">
                        Delete</button></form></td></tr>
        {% endfor %}        
    </tbody>
</table>

<h2>Players</h2>
<form method="post" action="{{base_path}}/admin/newPlayer">
    <div>
        <label>Player Nickname</label>
        <input type="text" name="player_name" class="form-inline">  
        <button type="submit" class="btn btn-primary">Add</button>
    </div>
</form>

<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th><label class="label label-info">Player name</label></th>
            <th><label class="label label-danger">Delete player and all characters of the player</label></th>
        </tr>
    </thead>
    <tbody>    
        {% for p in players %}
        {% if not p.admin %}
        <tr>

            <td><a>{{p.name}}</a></td>
            <td><form method="post" action="{{base_path}}/admin/delPlayer">        
                    <button type="submit" name="player" value="{{p.id}}" class="btn btn-danger">
                        Delete</button></form></td>


        </tr>
        {% endif %}
        {% endfor %}
    </tbody>
</table>

<h2>Characters</h2>

<form method="post" action="{{base_path}}/admin/newChar">
    <div class="form-group">
        <label>Player Nickname</label>
        <select name="player">
            {% for player in players %}
            <option name="player" value="{{player.id}}">{{player.name}}</option>
            {% endfor %}
        </select>
        <label>Character Name</label>
        <input type="text" name="character" class="form-group"> 
        <select name="priority">
            <option value="main">Main</option>
            <option value="alt">Alt</option>
        </select>

        <select name="element">
            {% for ele in elements %}
            <option value="{{ele.id}}">{{ele.type}}</option>
            {% endfor %}
        </select>
        <select name="class">
            {% for class in classes %}
            <option value="{{class.id}}">{{class.name}}</option>
            {% endfor %}
        </select>

        <br>
        <div class="form-group">

            {% for item in items %}
            <input type="checkbox" name="{{item.name}}" value="{{item.id}}">{{item.name}}
            {% endfor %}             
        </div>
    </div>
    <div class="form-group">
        <button type="submit" class="btn btn-primary">Add</button>
    </div></form>
<br><br>
<div>
    <form method="post" action="{{base_path}}/admin/delChar">
        <select name="avatar">
            {% for avatar in avatars %}
            <option name="avatar" value="{{avatar.id}}">{{avatar.name}}</option>
            {% endfor %}
        </select>
        <button type="submit" class="btn btn-danger">Delete</button>
        </select>

    </form></div>



{% endblock %}