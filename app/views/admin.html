{% extends "base.html" %}
{% block content %}

<h1>Admin Page</h1>
{% import "macros/messages.html" as msg %}
{{msg.message("#{message}")}}
{{msg.errors("#{errors}")}}

<h2>Characters</h2>

<br>
<div class="form-group">
    <form method="post" action="{{base_path}}/admin/newChar">
        <label>Player Nickname</label>
        <select name="player">
            {% for player in players %}
            <option name="player" value="{{player.id}}">{{player.name}}</option>
            {% endfor %}
        </select>
        <label>Character Name</label>
        <input type="text" name="character" class="form-group"> 
        <select name="priority">
            <option value="main">Main</option>
            <option value="alt">Alt</option>
        </select>

        <select name="element">
            {% for ele in elements %}
            <option value="{{ele.id}}">{{ele.type}}</option>
            {% endfor %}
        </select>
        <select name="class">
            {% for class in classes %}
            <option value="{{class.id}}">{{class.name}}</option>
            {% endfor %}
        </select>


        <div class="form-group">
            <a>Owns: </a>
            {% for item in items %}
            <input type="checkbox" name="{{item.id}}">{{item.name}}
            {% endfor %}               
        </div>
</div>
<div class="form-group">
    <button type="submit" class="btn btn-success">Add Character to Raid</button>
</div></form>
<br><br>
<h3>Current characters</h3>
<div>
    <form method="post" action="{{base_path}}/admin/delChar">

        <select name="avatar">
            {% for avatar in avatars %}
            <option name="avatar" value="{{avatar.id}}">{{avatar.name}}</option>
            {% endfor %}
        </select>
        <button type="submit" class="btn btn-danger">Delete</button>
        </select>

    </form></div>
<br><br>

<h2>Players</h2>

<div><div>
        <form method="post" action="{{base_path}}/admin/newPlayer">

            <label>New Player's Nickname</label>
            <br> <input type="text" name="player_name" class="form-inline"> 
            <div>
                <button type="submit" class="btn btn-primary">Add Player to raid</button>
            </div>
        </form>
        <br><br>
    </div>
    <h3>Current players</h3>
    <div>
        <form method="post" action="{{base_path}}/admin/delPlayer">

            <select name="player">
                {% for p in players %}
                <option name="avatar" value="{{p.id}}">{{p.name}}</option>
                {% endfor %}
            </select>
            <button type="submit" class="btn btn-danger">Delete</button>
            </select>

        </form>

    </div>

    <br><br>

    <h2>Elements</h2> 
    <form method="post" action="{{base_path}}/admin/newEle">
        <div>
            <label>Element Name</label>
            <input type="text" name="element" class="form-inline">  
            <button type="submit" class="btn btn-primary">Add</button>
        </div>
    </form>

    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th><label class="label label-info">Element name</label></th>
                <th><label class="label label-danger">Delete</label></th>
            </tr>
        </thead>

        <tbody>   
            {% for ele in elements %}
            <tr>

                <td><a>{{ele.type}}</a></td>
                <td><form method="post" action="{{base_path}}/admin/delEle">        
                        <button type="submit" value="{{ele.id}}" name="element" class="btn btn-danger">
                            Delete</button></form></td>   
            </tr>
            {% endfor %}

        </tbody>
    </table>

    <h2>Classes</h2>
    <form method="post" action="{{base_path}}/admin/newClas">
        <div>
            <label>Class name</label>
            <input type="text" name="class" class="form-inline">  
            <button type="submit" class="btn btn-primary">Add</button>
        </div>
    </form>


    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th><label class="label label-info">Class name</label></th>
                <th><label class="label label-danger">Delete</label></th>
            </tr>
        </thead>

        <tbody>    

            {% for clas in classes %}
            <tr>
                <td><a>{{clas.name}}</a></td>
                <td><form method="post" action="{{base_path}}/admin/delClas">        
                        <button type="submit" name="class" value="{{clas.id}}" class="btn btn-danger">
                            Delete</button></form></td>
            </tr>
            {% endfor %}

        </tbody>
    </table>

    <h2>Items</h2>
    <form method="post" action="{{base_path}}/admin/newItem">
        <div>
            <label>Item Nickname</label>
            <input type="text" name="item" class="form-inline">  
            <button type="submit" class="btn btn-primary">Add</button>
        </div>
    </form>

    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th><label class="label label-info">Item name</label></th>
                <th><label class="label label-danger">Delete</label></th>

            </tr>
        </thead>
        <tbody>  

            {% for item in items %}
            <tr>
                <td><a>{{item.name}}</a></td>
                <td><form method="post" action="{{base_path}}/admin/delItem">        
                        <button type="submit" name="item" value="{{item.id}}" class="btn btn-danger">
                            Delete</button></form></td></tr>
            {% endfor %}        
        </tbody>
    </table>

    {% endblock %}